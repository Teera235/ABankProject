# ESP32 LoRa Satellite Tracking System

This is a complete guide for the CubeSat (Satellite) and Ground Station project using **ESP32**, **LoRa**, **GPS Module (U-Blox)**, **NGIMU**, and **SD Card**. The project simulates a satellite tracking system where data from **NGIMU** and **GPS** is sent from the satellite to the ground station for processing and storage.

---

##  Bill of Materials (BOM)

Here‚Äôs a list of recommended components for building this system.

| Quantity | Component             | Recommended Model / Specs                                  | Role in Project                           |
|----------|-----------------------|------------------------------------------------------------|-------------------------------------------|
| 2        | **ESP32 Development Board** | ESP32-WROOM-32 (30/38 Pin Version)                        | Main Processing Unit (MCU)                |
| 2        | **LoRa Module**        | Ra-01 (SX1278, 433MHz) or Ra-02 (SX1276, 868/915MHz)      | Long-range wireless communication        |
| 2        | **GPS Module**         | U-blox NEO-6M or NEO-8M (with ceramic antenna)             | Positioning data (GPS)                   |
| 1        | **Inertial Measurement Unit (IMU)** | Next Generation IMU (NGIMU)                            | Direction and motion tracking (CubeSat)  |
| 2        | **MicroSD Card Module**| SPI interface (with Level Shifter if using 5V)             | Data logging                             |
| 2        | **MicroSD Card**       | Class 10, 8GB or more (FAT32 formatted)                    | Storage for data                         |
| 2        | **LoRa Antenna**       | Spring or SMA antenna matching the LoRa module frequency (e.g. 915MHz) | LoRa signal transmission and reception   |
| -        | **Breadboard & Wires**| Jumper Wires (Male-to-Male, Male-to-Female)                | Circuit connections                      |
| -        | **Power Supply**       | Micro USB cable or 5V external power supply                | Powers the system                        |

---

## üîº CubeSat (Sender) Wiring

Below is the wiring for the CubeSat board that will send data.

| Module                | Module Pin        | ESP32 Pin          | Notes                                           |
|-----------------------|-------------------|--------------------|-------------------------------------------------|
| **LoRa Ra-01**         | VCC               | 3V3                | Do not connect to 5V/VIN                       |
|                       | GND               | GND                |                                                 |
|                       | SCK               | GPIO 18 (SPI SCK)  |                                                 |
|                       | MISO              | GPIO 19 (SPI MISO) |                                                 |
|                       | MOSI              | GPIO 23 (SPI MOSI) |                                                 |
|                       | NSS / CS          | GPIO 5 (LoRa CS)   |                                                 |
|                       | RST               | GPIO 14 (LoRa Reset)|                                                 |
|                       | DIO0              | GPIO 2 (LoRa Interrupt) |                                             |
| **SD Card Module**     | VCC               | 5V (VIN)           | Most modules work at 5V and have regulator     |
|                       | GND               | GND                |                                                 |
|                       | SCK               | GPIO 18 (SPI SCK)  | Shared SPI Bus with LoRa                       |
|                       | MISO              | GPIO 19 (SPI MISO) |                                                 |
|                       | MOSI              | GPIO 23 (SPI MOSI) |                                                 |
|                       | CS                | GPIO 15 (Separate CS pin) |                                            |
| **NGIMU**              | VCC               | 3V3 or 5V          | Check NGIMU manual                            |
|                       | GND               | GND                |                                                 |
|                       | TX                | GPIO 16 (RX2)      | Connect to RX2 of ESP32                        |
|                       | RX                | GPIO 17 (TX2)      | Connect to TX2 of ESP32                        |
| **GPS Module**         | VCC               | 3V3 or 5V          | U-blox modules support both                   |
|                       | GND               | GND                |                                                 |
|                       | TX                | GPIO 9 (RX1)       | Connect to RX1 of ESP32                        |
|                       | RX                | GPIO 10 (TX1)      | Connect to TX1 of ESP32                        |

---

##  Ground Station (Receiver) Wiring

This is the wiring for the ground station board that will receive data.

| Module                | Module Pin        | ESP32 Pin          | Notes                                           |
|-----------------------|-------------------|--------------------|-------------------------------------------------|
| **LoRa Ra-01**         | VCC               | 3V3                | Do not connect to 5V/VIN                       |
|                       | GND               | GND                |                                                 |
|                       | SCK               | GPIO 18 (SPI SCK)  |                                                 |
|                       | MISO              | GPIO 19 (SPI MISO) |                                                 |
|                       | MOSI              | GPIO 23 (SPI MOSI) |                                                 |
|                       | NSS / CS          | GPIO 5 (LoRa CS)   |                                                 |
|                       | RST               | GPIO 14 (LoRa Reset)|                                                 |
|                       | DIO0              | GPIO 2 (LoRa Interrupt) |                                             |
| **SD Card Module**     | VCC               | 5V (VIN)           | Most modules work at 5V and have regulator     |
|                       | GND               | GND                |                                                 |
|                       | SCK               | GPIO 18 (SPI SCK)  | Shared SPI Bus with LoRa                       |
|                       | MISO              | GPIO 19 (SPI MISO) |                                                 |
|                       | MOSI              | GPIO 23 (SPI MOSI) |                                                 |
|                       | CS                | GPIO 15 (Separate CS pin) |                                            |
| **GPS Module**         | VCC               | 3V3 or 5V          | U-blox modules support both                   |
|                       | GND               | GND                |                                                 |
|                       | TX                | GPIO 9 (RX1)       | Connect to RX1 of ESP32                        |
|                       | RX                | GPIO 10 (TX1)      | Connect to TX1 of ESP32                        |

---

##  Assembly Notes (‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö)

### SPI Bus Sharing:
- **SPI (Serial Peripheral Interface)** ‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢ **LoRa** ‡πÅ‡∏•‡∏∞ **SD Card**, ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤ **SCK**, **MISO**, ‡πÅ‡∏•‡∏∞ **MOSI** ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤ **CS (Chip Select)** ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô:
  - **LoRa** ‡πÉ‡∏ä‡πâ **GPIO 5** ‡πÄ‡∏õ‡πá‡∏ô **CS**.
  - **SD Card** ‡πÉ‡∏ä‡πâ **GPIO 15** ‡πÄ‡∏õ‡πá‡∏ô **CS**.

### UART Ports:
- **ESP32** ‡∏°‡∏µ‡∏û‡∏≠‡∏£‡πå‡∏ï **UART** 3 ‡∏ä‡∏∏‡∏î (UART0, UART1, UART2).
  - **UART0 (GPIO 1, 3)** ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡∏∞ **Serial Monitor**, ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå.
  - ‡πÉ‡∏ä‡πâ **UART1 (GPIO 9, 10)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **GPS**.
  - ‡πÉ‡∏ä‡πâ **UART2 (GPIO 16, 17)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **NGIMU**.

### Voltage:
- **LoRa Ra-01** ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà **3.3V** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô, ‡∏´‡πâ‡∏≤‡∏°‡∏ï‡πà‡∏≠ **5V** ‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ô‡∏µ‡πâ.
- **GPS Module** ‡πÅ‡∏•‡∏∞ **SD Card** ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà **3.3V** ‡∏´‡∏£‡∏∑‡∏≠ **5V** ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏£‡∏∏‡πà‡∏ô.

### Antenna:
- ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô **LoRa**, ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **LoRa Antenna** ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡πÄ‡∏ä‡πà‡∏ô **915 MHz**).
- **‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô LoRa ‡πÇ‡∏°‡∏î‡∏π‡∏•‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®** ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏Ñ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢.

### GPS Positioning:
- **GPS** ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏•‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏î‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÑ‡∏î‡πâ‡∏î‡∏µ.

---

##  Next Steps

1. **Hardware Setup**: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏≤‡∏° **Wiring Diagrams** ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ.
2. **Upload Code**: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **Sender** ‡πÅ‡∏•‡∏∞ **Receiver** ‡πÑ‡∏õ‡∏¢‡∏±‡∏á **ESP32**.
3. **Test Communication**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **CubeSat** ‡πÅ‡∏•‡∏∞ **Ground Station** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **LoRa**.
4. **Data Logging**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS ‡πÅ‡∏•‡∏∞ IMU ‡∏•‡∏á‡πÉ‡∏ô **SD Card**.
5. **Real-Time Monitoring**: ‡πÉ‡∏ä‡πâ **Serial Monitor** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å **LoRa** ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á **GPS**.

---

This README.md provides the necessary instructions and setup details for your **LoRa Satellite Tracking System** using **ESP32**, **LoRa**, **GPS**, and **NGIMU**. Follow the steps carefully to set up the hardware and software for both the **CubeSat** and **Ground Station** components.
